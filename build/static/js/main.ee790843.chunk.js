(this.webpackJsonpsplitwiseclone=this.webpackJsonpsplitwiseclone||[]).push([[0],{76:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(50),r=(n(66),n(7)),i=n(89),o=n(88),s=(n(67),n(1));function d(){var e=Object(c.useState)(!0),t=Object(r.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){n?(document.body.classList.add("bg-light","text-dark"),document.body.classList.remove("bg-dark","text-light,","dark-mode")):(document.body.classList.add("bg-dark","text-light","dark-mode"),document.body.classList.remove("bg-light","text-dark"))}),[n]);return Object(s.jsx)(i.a,{children:Object(s.jsxs)(o.a,{children:[Object(s.jsx)(i.a.Brand,{href:"#home",children:"Splitwise clone"}),Object(s.jsx)(i.a.Toggle,{}),Object(s.jsx)(i.a.Collapse,{onClick:function(){a(!n)},className:"justify-content-end",children:Object(s.jsx)(i.a.Text,{children:Object(s.jsx)("span",{children:Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(s.jsx)("path",{d:"M24 13.616v-3.232c-1.651-.587-2.694-.752-3.219-2.019v-.001c-.527-1.271.1-2.134.847-3.707l-2.285-2.285c-1.561.742-2.433 1.375-3.707.847h-.001c-1.269-.526-1.435-1.576-2.019-3.219h-3.232c-.582 1.635-.749 2.692-2.019 3.219h-.001c-1.271.528-2.132-.098-3.707-.847l-2.285 2.285c.745 1.568 1.375 2.434.847 3.707-.527 1.271-1.584 1.438-3.219 2.02v3.232c1.632.58 2.692.749 3.219 2.019.53 1.282-.114 2.166-.847 3.707l2.285 2.286c1.562-.743 2.434-1.375 3.707-.847h.001c1.27.526 1.436 1.579 2.019 3.219h3.232c.582-1.636.75-2.69 2.027-3.222h.001c1.262-.524 2.12.101 3.698.851l2.285-2.286c-.744-1.563-1.375-2.433-.848-3.706.527-1.271 1.588-1.44 3.221-2.021zm-12 2.384c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4z"})})})})})]})})}var l=n(6),u=(n(76),function(e){return{type:"ADD_FRIEND",payload:e}}),j=function(e){return{type:"SHOW_ADD_USER",payload:e}},b=function(e){return{type:"SELECTED_FRIENDS",payload:e}},O=function(e){return{type:"DESCRIPTION",payload:e}},p=function(e){return{type:"ADD_AMOUNT",payload:e}},h=function(e){return{type:"PAID_BY",payload:e}},f=function(e){return{type:"SPLIT_BETWEEN",payload:e}},m=function(e){return{type:"CLOSE_POP_UP",payload:e}},x=n(91),v=n(92),y=n(15);function g(){var e=Object(l.c)((function(e){return e.addFriend.selectedFriends})),t=Object(l.b)();return e.length?e.map((function(n){return Object(s.jsxs)("button",{type:"button",class:"btn btn-secondary m-1",children:[n," ",Object(s.jsx)("span",{class:"badge badge-light",onClick:function(){return function(n){var c=e.filter((function(e){return e!==n}));t(b(c))}(n)},children:Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",children:Object(s.jsx)("path",{d:"M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z"})})})]})})):Object(s.jsx)(s.Fragment,{})}function F(e){var t=e.options,n=e.showAddFriendEvent,a=Object(l.b)(),i=Object(c.useState)([]),o=Object(r.a)(i,2),d=o[0],u=o[1],j=Object(c.useState)(0),O=Object(r.a)(j,2),p=O[0],h=O[1],f=Object(c.useState)(!1),m=Object(r.a)(f,2),x=m[0],v=m[1],F=Object(c.useState)(""),w=Object(r.a)(F,2),N=w[0],E=w[1],A=Object(c.useState)([]),B=Object(r.a)(A,2),S=B[0],P=B[1],D=Object(l.c)((function(e){return e.addFriend.selectedFriends})),C=function(e){u([]),E(""),P([].concat(Object(y.a)(D),[e.target.innerText])),h(0),v(!1)};Object(c.useEffect)((function(){a(b(S))}),[S]);var k=function(){return d.length?Object(s.jsx)("ul",{className:"list-group",children:d.map((function(e,t){return t===p&&"list-group-item",Object(s.jsx)("li",{className:"list-group-item",onClick:C,children:e},e)}))}):Object(s.jsx)("div",{class:"no-suggestions",children:Object(s.jsx)("em",{children:"No suggestions, you're on your own!"})})};return Object(s.jsxs)("div",{children:[Object(s.jsx)("ul",{className:"badges",children:Object(s.jsx)(g,{})}),Object(s.jsxs)("div",{className:"input-group mb-3",children:[Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Please Enter Name","aria-label":"Please Enter Name","aria-describedby":"basic-addon2",onChange:function(e){var n=e.target.value;if(D.length>0)var c=t.filter((function(e){return!D.includes(e)})).filter((function(e){return e.toLowerCase().indexOf(n.toLowerCase())>-1}));else c=t.filter((function(e){return e.toLowerCase().indexOf(n.toLowerCase())>-1}));console.log(D,t,"test1"),u(c),E(n),v(!0),h(0)},value:N}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{onClick:n,className:"btn btn-outline-secondary",type:"button",children:"Add Friend"})})]}),x&&N&&Object(s.jsx)(k,{})]})}var w=n(17),N=new w.a("db");function E(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],a=t[1],i=Object(l.c)((function(e){return e.addFriend.friendList})),o=Object(l.b)();return Object(s.jsxs)("div",{className:"input-group mb-3",children:[Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Please Enter Name to Add","aria-label":"Please Enter Name to Add","aria-describedby":"basic-addon2",onChange:function(e){a(e.target.value.trim())}}),Object(s.jsxs)("div",{className:"input-group-append",children:[Object(s.jsx)("button",{onClick:function(){i.includes(n)?console.log("Name already Exist"):n.length<=0?console.log("Please Enter Name"):(N.collection("users").add({id:Date.now(),friendName:n}).then((function(){N.collection("users").get().then((function(e){o(u(e.map((function(e){return e.friendName}))))}))})),o({type:"NEW_USER_ADDED",payload:Date.now()}),o(j(!1)))},className:"btn btn-outline-secondary",type:"button",children:"Add Friend"}),Object(s.jsx)("button",{onClick:function(){o(j(!1))},className:"btn btn-outline-secondary",type:"button",children:"Go Back"})]})]})}var A=new w.a("db");function B(){var e=Object(l.c)((function(e){return e.addFriend.newUserAdded})),t=Object(l.b)();Object(c.useEffect)((function(){A.collection("users").get().then((function(e){t(u(e.map((function(e){return e.friendName}))))}))}),[e])}function S(e){var t=e.label,n=e.value,c=e.options,a=e.onChange;return Object(s.jsxs)("div",{className:"input-group mt-3 dropdownColumn",children:[Object(s.jsx)("label",{className:"form-label",children:t}),Object(s.jsx)("select",{className:"form-select",value:n,onChange:a,children:c.map((function(e){return Object(s.jsx)("option",{className:"dropdown-item",value:e,children:e})}))})]})}function P(){var e=Object(l.b)();return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{class:"input-group",children:Object(s.jsx)("textarea",{onChange:function(t){var n;e(O(null===t||void 0===t||null===(n=t.target)||void 0===n?void 0:n.value))},placeholder:"Please enter description",class:"form-control","aria-label":"With textarea"})})})}function D(){var e=Object(l.b)();return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{class:"input-group mt-3",children:Object(s.jsx)("input",{type:"number",placeholder:"Enter Amount",className:"form-control",onChange:function(t){e(p(t.target.value))}})})})}function C(){var e=Object(l.c)((function(e){return e.addFriend.selectedFriends})),t=Object(c.useState)(["You"]),n=Object(r.a)(t,2),a=n[0],i=n[1],o=Object(l.c)((function(e){return e.addFriend.paidBy})),d=Object(l.b)();Object(c.useEffect)((function(){i(["You"].concat(Object(y.a)(e))),d(h(a[0]))}),[]),Object(c.useEffect)((function(){i(["You"].concat(Object(y.a)(e)))}),[e]);return Object(s.jsx)(S,{label:"Paid By",value:o,options:a,onChange:function(e){d(h(e.target.value))}})}function k(e){var t=e.items,n=Object(l.b)(),a=Object(c.useState)(new Array(t.length).fill(!0)),i=Object(r.a)(a,2),o=i[0],d=i[1],u=Object(c.useState)([]),j=Object(r.a)(u,2),b=(j[0],j[1]);Object(c.useEffect)((function(){d(new Array(t.length).fill(!0)),b(t),n(f(t))}),[t]);return Object(s.jsxs)("div",{className:" mt-3",children:[Object(s.jsx)("label",{className:"mt-1",children:"Split Between"}),t.map((function(e,c){return Object(s.jsxs)("div",{className:"form-check",children:[Object(s.jsx)("input",{className:"form-check-input",type:"checkbox",id:"custom-checkbox-".concat(c),name:e,value:e,checked:o[c],onChange:function(){return function(e){var c=o.map((function(t,n){return n===e?!t:t}));d(c);var a=c.map((function(e,n){return!0===e?t[n]:""})).filter((function(e){return e.length>0}));b(a),n(f(a))}(c)}}),Object(s.jsx)("label",{className:"form-check-label",htmlFor:"custom-checkbox-".concat(c),children:e})]})}))]})}function _(){var e=Object(l.c)((function(e){return e.addFriend.selectedFriends}));return Object(s.jsx)(k,{items:e,defaultValue:!0})}var L=new w.a("db");function R(e){var t=e.show,n=e.onHide,c=Object(l.b)(),a=Object(l.c)((function(e){return e.addFriend.showAddFriend})),r=Object(l.c)((function(e){return e.addFriend.friendList})),i=Object(l.c)((function(e){return e.addFriend.description})),o=Object(l.c)((function(e){return e.addFriend.paidBy})),d=Object(l.c)((function(e){return e.addFriend.amount})),u=Object(l.c)((function(e){return e.addFriend.splitBetween})),h=Object(l.c)((function(e){return e.addFriend.selectedFriends}));return Object(s.jsxs)(x.a,{show:t,onHide:n,children:[Object(s.jsx)(B,{}),Object(s.jsx)(x.a.Header,{closeButton:!0,children:Object(s.jsx)(x.a.Title,{children:"Add an Expense"})}),Object(s.jsx)(x.a.Body,{children:a?Object(s.jsx)(E,{}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(F,{options:r,showAddFriendEvent:function(){c(j(!0))}}),h.length>0?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(P,{}),Object(s.jsx)(D,{}),Object(s.jsx)(C,{}),Object(s.jsx)(_,{})]}):Object(s.jsx)(s.Fragment,{})]})}),Object(s.jsxs)(x.a.Footer,{children:[Object(s.jsx)(v.a,{variant:"btn btn-outline-secondary",onClick:n,children:"Close"}),Object(s.jsx)(v.a,{variant:"btn btn-outline-primary",onClick:function(){var e=u,t=e.length;0===t?(console.log("considering Friend List as number of friends"),e=h):e=u;var n=t+1,a=d/n;console.log(a,n,"amount");var r=a*t;h.length<=0?console.log("Please Select Friends"):i&&d?L.collection("Amount").add({id:Date.now(),amount:d,description:i,Totalamount:d,TotalAmountPerPerson:a,payer:{paidBy:o,AmountReceivedByPayer:r},selectedFriends:h,splitAmong:e}).then((function(e){c(O()),c(m(!1)),c(b([])),c(p())})):console.log("please enter description")},children:"Save Changes"})]})]})}function T(e){var t=e.totalAmount;e.totalFriendBalance;return Object(s.jsx)("div",{className:"card-body",children:-1===Math.sign(t)?"You owe ".concat(t.toFixed(2)," Rupees"):0===t?"All thing settled":"You will get ".concat(t.toFixed(2))})}function I(e){var t=e.totalFriendBalance;if(t)return Object.entries(t).map((function(e){var t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)("span",{children:[n," Paid "]}),Object(s.jsx)("span",{children:c.toFixed(2)})]})}))}var U=n(90),Y=new w.a("db");function H(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.addFriend.closePopUp})),n=Object(c.useState)([]),a=Object(r.a)(n,2),i=a[0],o=a[1],d=Object(c.useState)(0),u=Object(r.a)(d,2),b=u[0],O=u[1],p=Object(c.useState)([]),h=Object(r.a)(p,2),f=h[0],x=h[1];Object(c.useEffect)((function(){!1===t&&Y.collection("Amount").get().then((function(e){o(e)}))}),[t]),Object(c.useEffect)((function(){var e=0,t={};i.map((function(n){t[n.payer.paidBy]?t[n.payer.paidBy]+=n.payer.AmountReceivedByPayer:t[n.payer.paidBy]=n.payer.AmountReceivedByPayer,"You"===n.payer.paidBy?e+=n.payer.AmountReceivedByPayer:e-=n.TotalAmountPerPerson})),O(e),[].push(t),x(t),console.log(f)}),[i]);var v=function(){return i.length?i.map((function(e,t){return Object(s.jsx)(U.a,{children:Object(s.jsxs)(U.a.Item,{eventKey:t+1,children:[Object(s.jsxs)(U.a.Header,{children:[e.description," with amount ",e.Totalamount," Paid By"," ",e.payer.paidBy]}),Object(s.jsx)(U.a.Body,{children:Object(s.jsxs)("span",{className:"AmountToBeReceived",children:["Amount to be Received ",e.payer.AmountReceivedByPayer,". Amount is Split B/w ",e.selectedFriends.length+1," ","people"," ",e.selectedFriends.map((function(e){return e}))," ","and You"]})})]})})})):Object(s.jsx)(s.Fragment,{})};return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"heading",children:[Object(s.jsx)("span",{children:"Dashboard"}),Object(s.jsx)("span",{children:Object(s.jsx)("button",{className:"btn btn-outline-primary",onClick:function(){e(m(!0))},children:"Add An Expense"})})]}),Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)(R,{show:t,onHide:function(){e(m(!1)),e(j(!1))}}),Object(s.jsx)(I,{totalFriendBalance:f}),Object(s.jsx)(T,{totalAmount:b}),Object(s.jsx)(v,{})]})]})}n(85);function W(){return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(d,{}),Object(s.jsx)(H,{}),Object(s.jsx)(B,{})]})}var M=n(30),z=n(58),J=n(2),G={friendList:[],showAddFriend:!1,newUserAdded:"",selectedFriends:[""],paidBy:"",description:"",amount:"",splitBetween:[""],closePopUp:!1},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FRIEND":return Object(J.a)(Object(J.a)({},e),{},{friendList:t.payload});case"SHOW_ADD_USER":return Object(J.a)(Object(J.a)({},e),{},{showAddFriend:t.payload});case"NEW_USER_ADDED":return Object(J.a)(Object(J.a)({},e),{},{newUserAdded:t.payload});case"SELECTED_FRIENDS":return Object(J.a)(Object(J.a)({},e),{},{selectedFriends:t.payload});case"DESCRIPTION":return Object(J.a)(Object(J.a)({},e),{},{description:t.payload});case"PAID_BY":return Object(J.a)(Object(J.a)({},e),{},{paidBy:t.payload});case"ADD_AMOUNT":return Object(J.a)(Object(J.a)({},e),{},{amount:t.payload});case"SPLIT_BETWEEN":return Object(J.a)(Object(J.a)({},e),{},{splitBetween:t.payload});case"CLOSE_POP_UP":return Object(J.a)(Object(J.a)({},e),{},{closePopUp:t.payload});default:return e}},V=Object(M.b)({addFriend:K}),q=Object(M.c)(V,Object(M.a)(z.a)),Q=document.getElementById("root");Object(a.createRoot)(Q).render(Object(s.jsx)(c.StrictMode,{children:Object(s.jsx)(l.a,{store:q,children:Object(s.jsx)(W,{})})}))}},[[86,1,2]]]);
//# sourceMappingURL=main.ee790843.chunk.js.map